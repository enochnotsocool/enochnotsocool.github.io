---
layout: post-index
title: Tag Archive
description: "An archive of posts sorted by tag."
comments: false
---
{% include scripts.html %}
<script src="{{ site.url }}/assets/js/vendor/jquery-1.9.1.min.js"></script>
<script>
$(document).ready(function() {
   $(".main_tag_button").on("click" , function(){
      $(this).siblings(".sub_container").toggle(500);
   });

   $(".sub_tag_button").on("click", function(){
      $(this).siblings(".post_container").toggle(500);
   });
});
</script>

<ul class="tag_list">
{% for main_tag in site.data.tag_hierarchy %}
<li class="main_tag">
   <div class="main_tag_button">
      <img src="{{site.url}}/images/{{main_tag.img}}"></img>
      <span>{{ main_tag.title }}</span>
   </div>
   <ul class="sub_container">
      {% for sub_tag in main_tag.sub_item %}
      <li class="sub_tag" >
         <span class="sub_tag_button">{{ sub_tag }}</span>
         <ul class="post_container">
            {% assign sub_tag_name = sub_tag | downcase %}
            {% for post in site.tags[sub_tag] %}
               {% capture post_tags %}{% for tag in post.tags %}{{tag}}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
               {% assign tag_list = post_tags | split:',' %}
               {% assign top_tag  = main_tag.title | downcase %}
               {% if tag_list contains top_tag %}
               <li><a href="{{site.url}}{{post.url}}" title="{{post.title}}">{{ post.title }}</a></li>
               {% endif %}
            {% endfor %}
         </ul>
      </li>
      {% endfor %}
      <li class="sub_tag">
         <span class="sub_tag_button">Others</span>
         <ul class="post_container">
            {% assign main_tag_name = main_tag.title | downcase %}
            {% for post in site.tags[main_tag_name] %}
               {% capture post_tags %}{% for tag in post.tags %}{{tag}}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
               {% assign tag_list = post_tags | split:',' %}
               {% assign otherpost = 'yes' %}
               {% for sub_tag in main_tag.sub_item %}
                  {% assign sub_tag_name = sub_tag | downcase %}
                  {% if tag_list contains sub_tag_name %}
                  {% assign otherpost = 'no' %}
                  {% break %}
                  {% endif %}
               {% endfor %}
               {% if otherpost == 'yes' %}
               <li><a href="{{site.url}}{{post.url}}" title="{{post.title}}">{{ post.title }}</a></li>
               {% endif %}
            {% endfor %}
         </ul>
      </li>
   </ul>
</li>
{% endfor %}
</ul>

